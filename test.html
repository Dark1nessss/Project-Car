<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Tables</title>
    <link rel="stylesheet" href="/assets/css/test1.css">
</head>
<body>
    <header>
        <h1>Dynamic Tables</h1>
    </header>
    <main>
        <div class="categories">
            <button onclick="fetchData('dashboard')">See All Dashboard</button>
            <button onclick="fetchData('reservations')">See All Reservations</button>
            <button onclick="fetchData('customer-support')">See All Customer Support</button>
            <button onclick="fetchData('reviews')">See All Reviews</button>
            <button onclick="fetchData('stock')">See All Stock</button>
            <button onclick="fetchData('accounts')">See All Accounts</button>
            <button onclick="fetchData('settings')">See All Settings</button>
            <!-- Add more buttons as needed -->
        </div>
        <div id="tableContainer">
            <!-- Tables will be dynamically inserted here -->
        </div>
    </main>

    <script src=>
        document.addEventListener('DOMContentLoaded', function() {
    const tableContainer = document.getElementById('tableContainer');

    // Function to fetch data based on category
    async function fetchData(category) {
        try {
            const response = await fetch(`/api/${category}`); // Replace with your API endpoint
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            const data = await response.json();
            renderTable(data, category);
        } catch (error) {
            console.error('Error fetching data:', error);
        }
    }

    // Function to render table
    function renderTable(data, category) {
        const table = generateTable(data);
        tableContainer.innerHTML = ''; // Clear previous content
        const header = document.createElement('h2');
        header.textContent = `All ${formatCategoryName(category)}`;
        tableContainer.appendChild(header);
        tableContainer.appendChild(table);
    }

    // Function to generate table HTML
    function generateTable(data) {
        const table = document.createElement('table');
        const thead = table.createTHead();
        const headerRow = thead.insertRow();
        Object.keys(data[0]).forEach(key => {
            const th = document.createElement('th');
            th.textContent = key.charAt(0).toUpperCase() + key.slice(1); // Capitalize first letter
            headerRow.appendChild(th);
        });

        const tbody = table.createTBody();
        data.forEach(item => {
            const row = tbody.insertRow();
            Object.values(item).forEach(value => {
                const cell = row.insertCell();
                cell.textContent = value;
            });
        });

        return table;
    }

    // Function to format category name
    function formatCategoryName(category) {
        return category.replace(/-/g, ' ').replace(/\b\w/g, c => c.toUpperCase());
    }
});

    </script>
</body>
</html>
